var formatMoney=function(n,t){return{require:"?ngModel",restrict:"A",scope:{myModel:"=",precision:"=",formatMoneyNoInput:"="},link:function(n,i){(n.precision==null||n.precision==undefined)&&(n.precision=0);i.maskMoney({allowNegative:!0,thousands:",",decimal:".",affixesStay:!1,allowZero:!0,precision:n.precision});i.keydown(function(r){var u=String.fromCharCode(r.which);if(_.contains(n.formatMoneyNoInput,u)){r.preventDefault();return}t(function(){n.myModel=parseFloat(i.val().replace(new RegExp(",","g"),""));i.trigger("change")})});n.$watch("myModel",function(){$.isNumeric(n.myModel)&&n.myModel.toString().indexOf(".")>0?i.val(n.myModel.toFixed(n.precision)).trigger("mask.maskMoney"):i.val(n.myModel).trigger("mask.maskMoney")})}}},getWidth,getHeight,lazyLoad,noInput,whenEnter,compile,inputFormat;formatMoney.$inject=["$filter","$timeout"];getWidth=function(n,t){return{restrict:"A",scope:{getWidth:"="},link:function(n,i){$(function(){n.getWidth=i[0].offsetWidth;t(function(){n.getWidth=i[0].offsetWidth},500)})}}};getWidth.$inject=["$timeout","$interval"];getHeight=function(n,t){return{restrict:"A",scope:{getHeight:"="},link:function(n,i){$(function(){n.getHeight=i[0].offsetHeight;t(function(){n.getHeight=i[0].offsetHeight},500)})}}};getHeight.$inject=["$timeout","$interval"];lazyLoad=function(n,t){return{restrict:"A",scope:{fncallback:"&lazyLoad"},link:function(n,i){n.IsLoaded=!1;n.raw=i[0];angular.element(t).bind("scroll",function(){var i=$(n.raw).is(":visible"),t;!n.IsLoaded&&i&&(t=$(n.raw).position().top,this.pageYOffset+this.innerHeight>=t&&(n.fncallback(),n.IsLoaded=!0,n.$apply()))})}}};lazyLoad.$inject=["$timeout","$window"];noInput=function(){return{restrict:"A",scope:{noInput:"="},link:function(n,t){t.bind("keydown keypress",function(t){var i=String.fromCharCode(t.which);_.contains(n.noInput,i)&&t.preventDefault()})}}};noInput.$inject=[];whenEnter=function(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.whenEnter)}),t.preventDefault())})}};whenEnter.$inject=[];compile=function(n){return function(t,i,r){t.$watch(function(n){return n.$eval(r.compile)},function(r){i.html(r);n(i.contents())(t)})}};compile.$inject=["$compile"];inputFormat=function(n){return{require:"?ngModel",restrict:"A",link:function(t,i,r,u){function f(n){return Number(n)===n&&n%1!=0}var e=r.allowDecimal=="true"?!0:!1;(t.allowdecimal=e,t.defaultValue=r.defaultValue?r.defaultValue:!1,u)&&(i.bind("keypress",function(n){var t=n.which||n.keyCode,i=r.allowDecimal=="true"?!0:!1;if(t>47&&t<58||t==8||t==9||t==190||t==39||t==37||t==43||i&&t==46)return!0;n.preventDefault()}),u.$formatters.unshift(function(){return n(r.inputFormat)(u.$modelValue?u.$modelValue:0)}),u.$parsers.unshift(function(u){var c=r.allowDecimal=="true"?!0:!1,e,o,s,h;if(t.defaultValue&&!parseInt(u)?u=t.defaultValue:!c&&f(parseFloat(u))&&(u=t.defaultValue),e=u.replace(/[^\d|\.|\-]/g,""),e=e||0,e!="")return o=e.match(/\./g),s=e.match(/\.$/g),o=o!=null&&o.length==1&&s!=null?".":"",h=n(r.inputFormat)(e),i.val(h+o).trigger("change"),parseFloat(e)}))}}};inputFormat.$inject=["$filter"];